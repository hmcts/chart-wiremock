aadIdentityName: someId

# Enable volumes for tests
volumesEnabled: true

# Basic chart configuration
image: "wiremock/wiremock"
applicationPort: 8080
imagePullPolicy: IfNotPresent
releaseNameOverride: chart-wiremock

# Volume configuration for tests
volumes:
  - name: wiremock-mocks
    configMap:
      name: chart-wiremock-wm
volumeMounts:
  - name: wiremock-mocks
    mountPath: /home/wiremock/mappings
    subPath: mappings

# Resource configuration
replicas: 1
memoryRequests: '512Mi'
cpuRequests: '100m'
memoryLimits: '1024Mi'
cpuLimits: '500m'

# Health probe configuration
readinessPath: '/health/readiness'
readinessDelay: 0
readinessTimeout: 3
readinessPeriod: 15
livenessPath: '/health/liveness'
livenessDelay: 0
livenessTimeout: 3
livenessPeriod: 15
livenessFailureThreshold: 3
startupPath: '/health/liveness'
startupDelay: 10
startupTimeout: 3
startupPeriod: 10
startupFailureThreshold: 20

# Basic deployment configuration
saEnabled: true
spotInstances:
  enabled: false
useInterpodAntiAffinity: false
ingressClass: traefik
disableTraefikTls: true
ingressSessionAffinity:
  enabled: false
  sessionCookieName: sticky
dnsConfig:
  ndots: "3"
  singleRequestTcp: false
pdb:
  enabled: false
  maxUnavailable: 50%

# Global configuration
global:
  enableKeyVaults: false
  devMode: false
  smoketestscron:
    enabled: false
  functionaltestscron:
    enabled: false
  environment: preview
  tenantId: "531ff96d-0ae9-462a-8d2d-bec7c0b42082"

# Disable complex features for tests
prometheus:
  enabled: false
  path: /prometheus

testsConfig:
  environment:
    TEST_URL: http://chart-wiremock
  memoryRequests: '256Mi'
  cpuRequests: '100m'
  memoryLimits: '512Mi'
  cpuLimits: '200m'
  serviceAccountName: tests-service-account

# Disable test features that might cause issues
smoketests:
  image: hmctspublic.azurecr.io/spring-boot/template
  enabled: false
functionaltests:
  image: hmctspublic.azurecr.io/spring-boot/template
  enabled: false
smoketestscron:
  image: hmctspublic.azurecr.io/spring-boot/template
  enabled: false
  schedule: "20 0/1 * * *"
functionaltestscron:
  image: hmctspublic.azurecr.io/spring-boot/template
  enabled: false
  schedule: "30 0/6 * * *"

# Disable autoscaling for tests
autoscaling:
  enabled: false
  cpu:
    enabled: false
    averageUtilization: 80
  memory:
    enabled: false
    averageUtilization: 80
useWorkloadIdentity: false
